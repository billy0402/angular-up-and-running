<h2>Create Product Form</h2>

<div class="product-create">
  <h4 class="error">{{message}}</h4>

  <form [formGroup]="productForm" (ngSubmit)="createProduct()">
    <div class="product-name">
      <input type="text"
             placeholder="Product Name"
             formControlName="name">
    </div>
    <div class="error" *ngIf="(name.dirty || message) && name.invalid">
      <!-- Cheating, since there is only one way the product name field could be invalid -->
      Product name is required
    </div>

    <div class="product-price">
      <input type="number"
             placeholder="Product Price"
             formControlName="price">
    </div>
    <div class="error" *ngIf="(price.dirty || message) && price.invalid">
      <div class="error" *ngIf="price.errors.required">
        Product price is required
      </div>
      <div class="error" *ngIf="price.errors.min">
        Product price must be at least 1
      </div>
    </div>

    <div class="product-image-url">
      <input type="text"
             placeholder="Product Image URL"
             formControlName="imageUrl">
    </div>
    <div class="error" *ngIf="(imageUrl.dirty || message) && imageUrl.invalid">
      <div *ngIf="imageUrl.errors.required">
        Product Image URL is required
      </div>
      <div *ngIf="imageUrl.errors.pattern">
        Product Image URL does not seem to be a valid URL
      </div>
    </div>

    <div class="product-is-on-sale">
      <input type="checkbox"
             formControlName="isOnSale">
      On Sale
    </div>

    <button type="submit">Create</button>
  </form>
</div>

<h4>Product is {{product | json}}</h4>
